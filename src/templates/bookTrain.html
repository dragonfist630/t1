<!DOCTYPE html>
<html>
<head>
	<title>Details</title>
	<link rel="stylesheet" href="css/home_Style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap" rel="stylesheet" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>

<body>
	<div class="wrapall">
		<section>
			<div class="above-image" style="padding: none;">
				<img id="bgimg" src="img/thumb-1920-661783.jpg" alt="Background_wallpper">
				<nav class="navbar navbar-expand-sm fixed-top" id="navbar"
					style="background-image: linear-gradient(rgba(0, 0, 100, 0.8), rgba(0, 0, 100, 0.8)),url(train1.jpg);">
					<ul class="navbar-nav" style="list-style: none;">
						<a class="navbar-brand" href="#">
							<img src="img/namaste.png" alt="Logo" style="width:40px; background-color: rgb(187, 187, 245,1);">
						</a>
						<li class="nav-item active">
							<a class="nav-link" href="DisplayProduct.html">Train List</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="I.html">Admin</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="register.html">Log Out</a>
						</li>
					</ul>
				</nav>
				<span>Hey Buddy! where are you <br> <b>Travelling</b> to?</span>
			</div>
		</section>
		<div class="containers">
			<form  >
				<h4>Add Passenger Details</h4>
				<div class="nameage">
					<input type="text" id="name" name="name" placeholder="Name" style="margin: 1rem;"> 
					<input type="number" id="age" name="age" placeholder="Age" maxlength="2" min="5" max="95" 
						style="margin: 1rem;"> <span id="demo1"></span>
				</div>
				<div class="wrap_gender" style="margin: 1rem;">
					<label for="gender">Gender:</label><input id="radio" type="radio" name="gender" value="Male"> Male <input
						id="radio" type="radio" name="gender" value="Female"> Female<input id="radio" type="radio" name="gender"
						value="">Others<div style="margin-right: 1.59rem;"></div>
					<input type="datetime-local" name="date" placeholder="Time" id="date" required style="margin: 1rem;">
				</div> <br>
				<div class="confirm_btn">
					<input id="btn"   onclick="navigation()" value="Confirm" style="text-align: center; cursor: pointer;">
				</div>
			</form>
		</div>
	</div>
	</div>
	<script>        
   const url = new URL(window.location.href);
   var train_name = url.searchParams.get('t_name');   
   var train_number = url.searchParams.get('t_no');  
   var fare = url.searchParams.get('f');   
   var source = url.searchParams.get('s');
   var destination = url.searchParams.get('d');

function navigation() { 
	   var fname = document.getElementById("name").value;
	   var age = document.getElementById("age").value;
	   var gen = document.getElementById("radio").value;
	   var date = document.getElementById("date").value;
        error = false;
        if (!isNaN(Number(fname))) {
          error = true;
          alert("Please enter Name properly");
        }
        if (age > 100 || age < 14) {
          error = true;
          alert("A person's age can't be above 100 or below 14");
        }
		if(age == 0){
			error = true;
			alert("Please enter your age.");
		}
        if (date == "") {
			error = true;
          alert("Please enter valid details");
        }
        if (error == false) {
          document.getElementById("name").value="";
          document.getElementById("age").value="";
          document.getElementById("date").value="";
		  location.href = `printTicket.html?name=${fname}&age=${age}&gender=${gen}&date=${date}&tname=${train_name}&tno=${train_number}&s=${source}&d=${destination}&f=${fare}`; 
        }
      }
	</script>
</body>
</html>
